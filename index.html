<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>NeuroSkills Quiz</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: Arial, sans-serif;
      background: #222;
      color: #fefefe;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    header {
      width: 100%;
      background: linear-gradient(90deg, #a90e7c, #ff5b00);
      padding: 2rem;
      text-align: center;
      font-size: 1.6rem;
      font-weight: bold;
      color: #fff;
      letter-spacing: 1px;
    }
    .container {
      width: 90%;
      max-width: 600px;
      background: #333;
      margin: 2rem 0;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,0,0,0.6);
      position: relative;
    }
    h2 {
      margin-bottom: 1rem;
      font-size: 1.2rem;
      color: #ffbd69;
      text-shadow: 0 0 3px #fff;
    }
    p {
      margin-bottom: 1rem;
      line-height: 1.4;
      color: #ddd;
    }
    .options {
      margin: 1rem 0;
    }
    .options label {
      display: block;
      margin: 0.5rem 0;
      cursor: pointer;
      transition: 0.2s all ease-in-out;
    }
    .options input[type="radio"] {
      margin-right: 0.6rem;
    }
    button {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.7rem 1.2rem;
      border: none;
      border-radius: 5px;
      background: #a90e7c;
      color: #fff;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s;
    }
    button:hover {
      background: #ff5b00;
    }
    .timer {
      text-align: right;
      font-weight: bold;
      margin-bottom: 1rem;
      color: #ccc;
    }
    .feedback {
      margin: 1rem 0;
      font-weight: bold;
    }
    .correct {
      color: #6aff75;
    }
    .wrong {
      color: #ff7373;
    }
    .explanation {
      margin: 0.5rem 0 0.5rem 0;
      color: #ccc;
      font-style: italic;
    }
    .hidden {
      display: none;
    }
    .highlight-correct {
      color: #6aff75;
      font-weight: bold;
    }
    .container .next-btn {
      float: right;
    }
    #result h2 {
      margin-bottom: 1rem;
      font-size: 1.4rem;
      color: #ffbd69;
    }
    .confetti {
      pointer-events: none;
      position: fixed;
      top: 0; 
      left: 0;
      width: 100%; 
      height: 100%;
      z-index: 9999;
    }
  </style>
</head>
<body>

<header>NeuroSkills Quiz</header>

<canvas class="confetti hidden" id="confettiCanvas"></canvas>

<div class="container" id="startPage">
  <button onclick="startQuiz()">START QUIZ</button>
</div>

<div class="container hidden" id="q1">
  <div class="timer" id="timer1"></div>
  <h2>1. Een patiënt heeft moeite met praten en bewegen aan de rechterkant. Welk hersendeel is waarschijnlijk beschadigd?</h2>
  <p>(Kennisvraag - test de basis over lateralisatie in de hersenen)</p>
  <div class="options" id="options1">
    <label><input type="radio" name="ans1" value="A"> Linkerhersenhelft</label>
    <label><input type="radio" name="ans1" value="B"> Rechterhersenhelft</label>
    <label><input type="radio" name="ans1" value="C"> Kleine hersenen</label>
    <label><input type="radio" name="ans1" value="D"> Hersenstam</label>
  </div>
  <button id="btn1" onclick="checkAnswer(1)">Stuur</button>
  <p class="feedback" id="feedback1"></p>
  <button class="next-btn hidden" id="next1" onclick="nextQuestion(3)">Volgende</button>
</div>

<div class="container hidden" id="q3">
  <div class="timer" id="timer3"></div>
  <h2>3. Extreme hoofdpijn, misselijkheid en gevoeligheid voor licht. Wat is de meest waarschijnlijke diagnose?</h2>
  <p>(Probleemoplossing & logisch denken - herkenning van symptomen)</p>
  <div class="options" id="options3">
    <label><input type="radio" name="ans3" value="A"> Migraine</label>
    <label><input type="radio" name="ans3" value="B"> Epilepsie</label>
    <label><input type="radio" name="ans3" value="C"> Ziekte van Parkinson</label>
    <label><input type="radio" name="ans3" value="D"> Herseninfarct</label>
  </div>
  <button id="btn3" onclick="checkAnswer(3)">Stuur</button>
  <p class="feedback" id="feedback3"></p>
  <button class="next-btn hidden" id="next3" onclick="nextQuestion(4)">Volgende</button>
</div>

<div class="container hidden" id="q4">
  <div class="timer" id="timer4"></div>
  <h2>4. Je ziet een MRI-scan met een donkere vlek in de frontale kwab. Wat betekent dit waarschijnlijk?</h2>
  <p>MRI-scan: Een medisch onderzoek waarbij foto’s worden gemaakt van doorsneden van het lichaam (Observatie & patroonherkenning)</p>
  <div class="options" id="options4">
    <label><input type="radio" name="ans4" value="A"> Bloedprop (beroerte)</label>
    <label><input type="radio" name="ans4" value="B"> Verhoogde activiteit</label>
    <label><input type="radio" name="ans4" value="C"> Normale hersenactiviteit</label>
    <label><input type="radio" name="ans4" value="D"> Gebroken schedel</label>
  </div>
  <button id="btn4" onclick="checkAnswer(4)">Stuur</button>
  <p class="feedback" id="feedback4"></p>
  <button class="next-btn hidden" id="next4" onclick="nextQuestion(5)">Volgende</button>
</div>

<div class="container hidden" id="q5">
  <div class="timer" id="timer5"></div>
  <h2>5. Een patiënt krijgt een epileptische aanval. Wat doe je als eerste?</h2>
  <p>(Probleemoplossing - eerste hulp bij een aanval)</p>
  <div class="options" id="options5">
    <label><input type="radio" name="ans5" value="A"> Zorgen dat hij zich niet bezeert</label>
    <label><input type="radio" name="ans5" value="B"> Water geven</label>
    <label><input type="radio" name="ans5" value="C"> Zijn tong vastpakken</label>
    <label><input type="radio" name="ans5" value="D"> Direct medicijnen toedienen</label>
  </div>
  <button id="btn5" onclick="checkAnswer(5)">Stuur</button>
  <p class="feedback" id="feedback5"></p>
  <button class="next-btn hidden" id="next5" onclick="nextQuestion(6)">Volgende</button>
</div>

<div class="container hidden" id="q6">
  <div class="timer" id="timer6"></div>
  <h2>6. Een patiënt is erg bang na de diagnose van ALS. Hoe reageer je?</h2>
  <p>(Communicatie & empathie - omgaan met een onzekere patiënt)</p>
  <div class="options" id="options6">
    <label><input type="radio" name="ans6" value="A"> "Ik begrijp dat dit beangstigend is. We gaan samen een behandelplan opstellen."</label>
    <label><input type="radio" name="ans6" value="B"> "Maak je geen zorgen, het komt wel goed."</label>
    <label><input type="radio" name="ans6" value="C"> "Ik heb hier geen tijd voor, je moet het accepteren."</label>
    <label><input type="radio" name="ans6" value="D"> "Je moet gewoon positief denken."</label>
  </div>
  <button id="btn6" onclick="checkAnswer(6)">Stuur</button>
  <p class="feedback" id="feedback6"></p>
  <button class="next-btn hidden" id="next6" onclick="nextQuestion(7)">Volgende</button>
</div>

<div class="container hidden" id="q7">
  <div class="timer" id="timer7"></div>
  <h2>7. Een scan toont het eerste gebied waar Alzheimer meestal begint. Welk gebied is dat?</h2>
  <p>(Observatie & kennis over Alzheimer - Hippocampus is vaak het eerste aangedane deel)</p>
  <div class="options" id="options7">
    <label><input type="radio" name="ans7" value="A"> Hippocampus</label>
    <label><input type="radio" name="ans7" value="B"> Frontaalkwab</label>
    <label><input type="radio" name="ans7" value="C"> Motorische cortex</label>
    <label><input type="radio" name="ans7" value="D"> Hersenstam</label>
  </div>
  <button id="btn7" onclick="checkAnswer(7)">Stuur</button>
  <p class="feedback" id="feedback7"></p>
  <button class="next-btn hidden" id="next7" onclick="nextQuestion(8)">Volgende</button>
</div>

<div class="container hidden" id="q8">
  <div class="timer" id="timer8"></div>
  <h2>8. Een patiënt heeft plotselinge verlamming aan één kant van het lichaam. Wat doe je als eerste?</h2>
  <p>(Logisch denken - acute beroerte-achtige symptomen)</p>
  <div class="options" id="options8">
    <label><input type="radio" name="ans8" value="A"> Direct een scan laten maken</label>
    <label><input type="radio" name="ans8" value="B"> Wachten of het overgaat</label>
    <label><input type="radio" name="ans8" value="C"> Kalmeringsmiddelen geven</label>
    <label><input type="radio" name="ans8" value="D"> De patiënt naar huis sturen</label>
  </div>
  <button id="btn8" onclick="checkAnswer(8)">Stuur</button>
  <p class="feedback" id="feedback8"></p>
  <button class="next-btn hidden" id="next8" onclick="nextQuestion(9)">Volgende</button>
</div>

<div class="container hidden" id="q9">
  <div class="timer" id="timer9"></div>
  <h2>9. Verward gedrag, moeite met coördinatie en ongecontroleerde bewegingen. Welk deel is waarschijnlijk aangetast?</h2>
  <p>(Observatie & patroonherkenning - coördinatieproblemen in de hersenen)</p>
  <div class="options" id="options9">
    <label><input type="radio" name="ans9" value="A"> Kleine hersenen</label>
    <label><input type="radio" name="ans9" value="B"> Temporaalkwab</label>
    <label><input type="radio" name="ans9" value="C"> Hersenstam</label>
    <label><input type="radio" name="ans9" value="D"> Motorische cortex</label>
  </div>
  <button id="btn9" onclick="checkAnswer(9)">Stuur</button>
  <p class="feedback" id="feedback9"></p>
  <button class="next-btn hidden" id="next9" onclick="nextQuestion(10)">Volgende</button>
</div>

<div class="container hidden" id="q10">
  <div class="timer" id="timer10"></div>
  <h2>10. Hoe leg je een complexe diagnose uit aan een patiënt die geen medische achtergrond heeft?</h2>
  <p>(Communicatie & empathie - duidelijkheid staat voorop)</p>
  <div class="options" id="options10">
    <label><input type="radio" name="ans10" value="A"> In eenvoudige taal, met duidelijke voorbeelden</label>
    <label><input type="radio" name="ans10" value="B"> Met medische termen, zodat ze zich slim voelen</label>
    <label><input type="radio" name="ans10" value="C"> Zo kort mogelijk, ‘time is money’</label>
    <label><input type="radio" name="ans10" value="D"> Laat de patiënt zelf opzoeken wat het betekent</label>
  </div>
  <button id="btn10" onclick="checkAnswer(10)">Stuur</button>
  <p class="feedback" id="feedback10"></p>
  <button class="next-btn hidden" id="next10" onclick="nextQuestion(11)">Volgende</button>
</div>

<div class="container hidden" id="q11">
  <div class="timer" id="timer11"></div>
  <h2>11. Je ziet een EEG met een abnormaal patroon in de frontale kwab. Waar wijst dit op?</h2>
  <p>(Patroonherkenning - elektrische activiteit in de hersenen)</p>
  <div class="options" id="options11">
    <label><input type="radio" name="ans11" value="A"> Epilepsie</label>
    <label><input type="radio" name="ans11" value="B"> Parkinson</label>
    <label><input type="radio" name="ans11" value="C"> Migraine</label>
    <label><input type="radio" name="ans11" value="D"> Hersenbloeding</label>
  </div>
  <button id="btn11" onclick="checkAnswer(11)">Stuur</button>
  <p class="feedback" id="feedback11"></p>
  <button class="next-btn hidden" id="next11" onclick="nextQuestion(12)">Volgende</button>
</div>

<div class="container hidden" id="q12">
  <div class="timer" id="timer12"></div>
  <h2>12. Een patiënt met ernstig hoofdtrauma kan nog praten, maar herhaalt steeds dezelfde woorden. Wat is waarschijnlijk beschadigd?</h2>
  <p>(Kritisch denken - spraakcentrum in de frontale kwab)</p>
  <div class="options" id="options12">
    <label><input type="radio" name="ans12" value="A"> Broca’s gebied</label>
    <label><input type="radio" name="ans12" value="B"> Hippocampus</label>
    <label><input type="radio" name="ans12" value="C"> Occipitaalkwab</label>
    <label><input type="radio" name="ans12" value="D"> Kleine hersenen</label>
  </div>
  <button id="btn12" onclick="checkAnswer(12)">Stuur</button>
  <p class="feedback" id="feedback12"></p>
  <button class="next-btn hidden" id="next12" onclick="finish()">Klaar</button>
</div>

<div class="container hidden" id="result">
  <h2>Resultaat</h2>
  <p id="score"></p>
</div>

<script>
let currentQuestion = 0;
let timeLeft = 60;
let interval;
let userScore = 0;

let answers = {
  1:"A",
  3:"A",
  4:"A",
  5:"A",
  6:"A",
  7:"A",
  8:"A",
  9:"A",
  10:"A",
  11:"A",
  12:"A"
};

let explanations = {
  1:"Linkerhersenhelft bestuurt de rechterkant van het lichaam en bevat spraakgebieden.",
  3:"Migraine is vaak gekoppeld aan hoofdpijn, misselijkheid en lichtgevoeligheid.",
  4:"Een donkere vlek duidt vaak op een bloedprop in de frontale kwab.",
  5:"Eerst zorgen dat de patiënt zich niet bezeert is de belangrijkste stap.",
  6:"Empathische communicatie is cruciaal; laat de patiënt weten dat je er voor hen bent.",
  7:"De hippocampus is vaak als eerste aangetast bij Alzheimer.",
  8:"Bij verlamming aan één kant is een scan nodig om een mogelijke beroerte uit te sluiten.",
  9:"De kleine hersenen regelen coördinatie en balans; letsel veroorzaakt ongecontroleerde bewegingen.",
  10:"Eenvoudige taal en voorbeelden helpen de patiënt beter te begrijpen en gerust te stellen.",
  11:"Een abnormaal EEG-patroon in de frontale kwab wijst vaak op epilepsie.",
  12:"Broca’s gebied is essentieel voor spraakproductie. Bij beschadiging kan repetitief taalgebruik voorkomen."
};

function startQuiz() {
  document.getElementById("startPage").classList.add("hidden");
  currentQuestion = 1;
  showQuestion(currentQuestion);
  startTimer(currentQuestion);
}

function showQuestion(q) {
  document.getElementById("q" + q).classList.remove("hidden");
}

function hideQuestion(q) {
  document.getElementById("q" + q).classList.add("hidden");
}

function startTimer(q) {
  timeLeft = 60;
  let timerId = "timer" + q;
  document.getElementById(timerId).textContent = "Tijd: " + timeLeft + "s";
  clearInterval(interval);
  interval = setInterval(function(){
    timeLeft--;
    if (timeLeft >= 0) {
      document.getElementById(timerId).textContent = "Tijd: " + timeLeft + "s";
    } else {
      clearInterval(interval);
      document.getElementById(timerId).textContent = "Tijd is op!";
      timeIsUp(q);
    }
  }, 1000);
}

function timeIsUp(q) {
  let fb = document.getElementById("feedback" + q);
  if(!answers[q]) {
    fb.textContent = "Tijd is op! Geen antwoord geregistreerd.";
  } else {
    fb.innerHTML = '<span class="wrong">Te laat!</span> <div class="explanation">Het juiste antwoord is: ' 
      + answers[q] + '.<br>' + explanations[q] + '</div>';
    highlightCorrect(q);
  }
  disableQuestion(q);
  document.getElementById("next" + q).classList.remove("hidden");
}

function disableQuestion(q) {
  let radios = document.getElementsByName("ans" + q);
  for (let i = 0; i < radios.length; i++) {
    radios[i].disabled = true;
  }
  let btn = document.getElementById("btn" + q);
  if(btn) btn.disabled = true;
}

function checkAnswer(q) {
  clearInterval(interval);
  let radios = document.getElementsByName("ans" + q);
  let chosen = "";
  for (let i = 0; i < radios.length; i++) {
    if (radios[i].checked) {
      chosen = radios[i].value;
      break;
    }
  }
  if (!chosen) {
    alert("Je moet een antwoord selecteren!");
    startTimer(q);
    return;
  }
  let fb = document.getElementById("feedback" + q);
  if (answers[q]) {
    if (chosen === answers[q]) {
      fb.innerHTML = '<span class="correct">Juist! 🎉</span> <div class="explanation">'+ explanations[q] +'</div>';
      confetti();
      userScore++;
    } else {
      fb.innerHTML = '<span class="wrong">Fout!</span> <div class="explanation">Het juiste antwoord is: ' 
        + answers[q] + '.<br>' + explanations[q] + '</div>';
      highlightCorrect(q);
    }
  } else {
    fb.textContent = "Antwoord geregistreerd.";
  }
  disableQuestion(q);
  document.getElementById("next" + q).classList.remove("hidden");
}

function highlightCorrect(q) {
  let opts = document.getElementById("options" + q).getElementsByTagName("label");
  for (let i = 0; i < opts.length; i++) {
    let input = opts[i].querySelector("input");
    if (input.value === answers[q]) {
      opts[i].classList.add("highlight-correct");
    }
  }
}

function nextQuestion(n) {
  hideQuestion(currentQuestion);
  currentQuestion = n;
  showQuestion(n);
  startTimer(n);
}

/* Minimal confetti effect for fun */
function confetti() {
  const canvas = document.getElementById('confettiCanvas');
  canvas.classList.remove('hidden');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  let particles = [];

  for (let i = 0; i < 100; i++) {
    particles.push({
      x: Math.random()*canvas.width,
      y: Math.random()*canvas.height - canvas.height,
      r: Math.random()*6+4,
      d: Math.random()*1 + 1,
      color: "hsl(" + Math.random()*360 + ", 100%, 50%)",
      tilt: Math.random()*30 - 15
    });
  }

  let angle = 0;
  let confettiInterval = setInterval(function(){
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    angle += 0.01;
    for (let i = 0; i < particles.length; i++) {
      let p = particles[i];
      p.y += (Math.cos(angle + p.d) + 1 + p.r/2) / 2;
      p.x += Math.sin(angle);
      ctx.beginPath();
      ctx.lineWidth = p.r;
      ctx.strokeStyle = p.color;
      ctx.moveTo(p.x + p.tilt + p.r/2, p.y);
      ctx.lineTo(p.x + p.tilt, p.y + p.r/2);
      ctx.stroke();
      if (p.x > canvas.width || p.x < 0 || p.y > canvas.height) {
        p.x = Math.random()*canvas.width;
        p.y = -20;
      }
    }
  }, 20);

  setTimeout(function(){
    clearInterval(confettiInterval);
    ctx.clearRect(0,0,canvas.width,canvas.height);
    canvas.classList.add('hidden');
  }, 1500);
}

function finish() {
  hideQuestion(currentQuestion);
  document.getElementById("result").classList.remove("hidden");
  document.getElementById("score").textContent = "Je eindscore is: " + userScore + " / 12";
}
</script>

</body>
</html>
